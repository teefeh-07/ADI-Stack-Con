{"version":3,"names":["closeIconSvg","isChrome","isChromium","window","winNav","navigator","vendorName","vendor","isOpera","opr","isIEedge","userAgent","includes","isIOSChrome","exec","isMobile","getBrowser","getPlatform","modalCss","Modal","handleSelectProvider","providerId","this","callback","handleCloseModal","cancelCallback","getBrowserUrl","provider","_a","chromeWebStoreUrl","mozillaAddOnsUrl","getMobileUrl","iOSAppStoreUrl","googlePlayStoreUrl","getInstallUrl","browser","platform","_b","webUrl","_d","_c","_f","_e","_h","_g","_k","_j","render","mobile","notInstalledProviders","defaultProviders","filter","p","installedProviders","findIndex","i","id","hasInstalled","length","hasMore","h","key","class","onClick","src","CloseIcon","map","icon","name","href","rel","URL","hostname","target","xmlns","width","height","viewBox","fill","stroke","d"],"sources":["src/components/modal/assets/close-icon.svg","src/components/modal/utils.ts","src/components/modal/modal.css?tag=connect-modal&encapsulation=shadow","src/components/modal/modal.tsx"],"sourcesContent":["<svg width=\"24\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m7 7 10 10M17 7 7 17\" stroke=\"#242629\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>","export const isChrome = () => {\n  const isChromium = !!window['chrome'];\n  const winNav = window.navigator;\n  const vendorName = winNav.vendor;\n  const isOpera = typeof (window as any).opr !== 'undefined';\n  const isIEedge = winNav.userAgent.includes('Edge');\n  const isIOSChrome = /CriOS/.exec(winNav.userAgent);\n  const isMobile = winNav.userAgent.includes('Mobile');\n\n  if (isIOSChrome) {\n    return false;\n  } else if (\n    isChromium !== null &&\n    typeof isChromium !== 'undefined' &&\n    vendorName === 'Google Inc.' &&\n    isOpera === false &&\n    isIEedge === false &&\n    isMobile === false\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\ntype Browser = 'Chrome' | 'Firefox';\n\nexport const getBrowser = (): Browser | null => {\n  if (isChrome()) {\n    return 'Chrome';\n  } else if (window.navigator.userAgent.includes('Firefox')) {\n    return 'Firefox';\n  }\n  return null;\n};\n\ntype Platform = 'Android' | 'IOS';\n\nexport const getPlatform = (): Platform | null => {\n  if (!window.navigator.userAgent.includes('Mobile')) return null;\n  if (window.navigator.userAgent.includes('iPhone')) {\n    return 'IOS';\n  } else return 'Android';\n};\n","@plugin 'tailwindcss-animate';\n\n:host {\n  all: initial;\n\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-rotate-x: rotateX(0);\n  --tw-rotate-y: rotateY(0);\n  --tw-rotate-z: rotateZ(0);\n  --tw-skew-x: skewX(0);\n  --tw-skew-y: skewY(0);\n  --tw-border-style: solid;\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n  --tw-shadow: 0 0 #0000;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n}\n\n.modal-container {\n  color: #74777d;\n  font-family:\n    'Inter',\n    -apple-system,\n    BlinkMacSystemFont,\n    'Segoe UI',\n    Helvetica,\n    Arial,\n    sans-serif,\n    'Apple Color Emoji',\n    'Segoe UI Emoji',\n    'Segoe UI Symbol';\n}\n\n.modal-body {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n.modal-body::-webkit-scrollbar {\n  display: none;\n}\n","import { Component, Element, Prop, h } from '@stencil/core';\nimport { WbipProvider } from '../../providers';\nimport CloseIcon from './assets/close-icon.svg';\nimport { getBrowser, getPlatform } from './utils';\n\n@Component({\n  tag: 'connect-modal',\n  styleUrl: 'modal.css',\n  assetsDirs: ['assets'],\n  shadow: true,\n})\nexport class Modal {\n  @Prop() defaultProviders: WbipProvider[];\n  @Prop() installedProviders: WbipProvider[];\n\n  @Prop() callback: Function;\n  @Prop() cancelCallback: Function;\n\n  @Element() modalEl: HTMLConnectModalElement;\n\n  handleSelectProvider(providerId: string) {\n    this.callback(providerId);\n  }\n\n  handleCloseModal() {\n    this.cancelCallback();\n  }\n\n  // todo: nice to have:\n  // getComment(provider: WebBTCProvider, browser: string, isMobile?: string) {\n  //   if (!provider) return null;\n\n  //   const hasExtension = this.getBrowserUrl(provider);\n  //   const hasMobile = this.getMobileUrl(provider);\n\n  //   if (isMobile && hasExtension && !hasMobile) return 'Extension Only';\n  //   if (!isMobile && !hasExtension && hasMobile) return 'Mobile Only';\n\n  //   if (!isMobile && !browser) return 'Current browser not supported';\n\n  //   return null;\n  // }\n\n  getBrowserUrl(provider: WbipProvider) {\n    return provider.chromeWebStoreUrl ?? provider.mozillaAddOnsUrl;\n  }\n\n  getMobileUrl(provider: WbipProvider) {\n    return provider.iOSAppStoreUrl ?? provider.googlePlayStoreUrl;\n  }\n\n  getInstallUrl(provider: WbipProvider, browser: string, platform: string) {\n    if (platform === 'IOS') {\n      return provider.iOSAppStoreUrl ?? this.getBrowserUrl(provider) ?? provider.webUrl;\n    } else if (browser === 'Chrome') {\n      return provider.chromeWebStoreUrl ?? this.getMobileUrl(provider) ?? provider.webUrl;\n    } else if (browser === 'Firefox') {\n      return provider.mozillaAddOnsUrl ?? this.getMobileUrl(provider) ?? provider.webUrl;\n    } else if (platform === 'Android') {\n      return provider.googlePlayStoreUrl ?? this.getBrowserUrl(provider) ?? provider.webUrl;\n    } else {\n      return this.getBrowserUrl(provider) ?? provider.webUrl ?? this.getMobileUrl(provider);\n    }\n  }\n\n  render() {\n    const browser = getBrowser();\n    const mobile = getPlatform();\n\n    const notInstalledProviders = this.defaultProviders.filter(\n      p => this.installedProviders.findIndex(i => i.id === p.id) === -1 // keep providers NOT already in installed list\n    );\n\n    const hasInstalled = this.installedProviders.length > 0;\n    const hasMore = notInstalledProviders.length > 0;\n\n    return (\n      <div class=\"modal-container animate-in fade-in fixed inset-0 z-[8999] box-border flex h-full w-full items-end bg-[#00000040] md:items-center md:justify-center\">\n        <div class=\"fixed inset-0 z-[8999]\" onClick={() => this.handleCloseModal()} />\n        <div class=\"modal-body animate-in md:zoom-in-50 slide-in-from-bottom md:slide-in-from-bottom-0 z-[9000] box-border flex max-h-[calc(100%-24px)] w-full max-w-full cursor-default flex-col overflow-y-scroll rounded-2xl rounded-b-none bg-white p-6 text-sm leading-snug shadow-[0_4px_5px_0_#00000005,0_16px_40px_0_#00000014] md:max-h-[calc(100%-48px)] md:w-[400px] md:rounded-b-2xl\">\n          {/* INTRO */}\n          <div class=\"flex flex-col space-y-[10px]\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-1 text-xl font-medium text-[#242629]\">Connect a wallet</div>\n              <button\n                class=\"rounded-full bg-transparent p-1 transition-colors hover:bg-gray-100 active:scale-95\"\n                onClick={() => this.handleCloseModal()}\n              >\n                <span class=\"sr-only\">Close popup</span>\n                <img src={CloseIcon} />\n              </button>\n            </div>\n            {hasInstalled ? (\n              <p>Select the wallet you want to connect to.</p>\n            ) : (\n              <p>\n                You don&apos;t have any wallets in your browser that support this app. You need to\n                install a wallet to proceed.\n              </p>\n            )}\n          </div>\n\n          {/* INSTALLED SECTION */}\n          {hasInstalled && (\n            <div class=\"mt-6\">\n              <p class=\"mb-4 text-sm font-medium\">Available wallets</p>\n              <ul class=\"space-y-3\">\n                {this.installedProviders.map((provider: WbipProvider, i: number) => (\n                  <li\n                    class=\"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]\"\n                    key={provider?.id ?? i}\n                  >\n                    <div class=\"aspect-square basis-9 overflow-hidden\">\n                      <img src={provider.icon} class=\"h-full w-full rounded-[10px] bg-gray-700\" />\n                    </div>\n                    <div class=\"flex-1\">\n                      <div class=\"text-sm font-medium text-[#242629]\">{provider.name}</div>\n                      {provider.webUrl && (\n                        <a href={provider.webUrl} class=\"text-sm\" rel=\"noopener noreferrer\">\n                          {new URL(provider.webUrl).hostname}\n                        </a>\n                      )}\n                    </div>\n                    <button\n                      class=\"rounded-[10px] border border-[#333] bg-[#323232] px-4 py-2 text-sm font-medium text-[#EFEFEF] shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-all hover:bg-[#0C0C0D] hover:text-white hover:shadow-[0_8px_16px_0_#00000020] focus:outline focus:outline-[3px] active:scale-95\"\n                      onClick={() => this.handleSelectProvider(provider.id)}\n                    >\n                      Connect\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* RECOMMENDED SECTION */}\n          {hasMore && (\n            <div class=\"mt-6\">\n              {hasInstalled ? (\n                <p class=\"mb-4 text-sm font-medium\">Other wallets</p>\n              ) : (\n                <div class=\"mb-5 flex justify-between\">\n                  <p class=\"text-sm font-medium\">Recommended wallets</p>\n                  <a\n                    class=\"flex cursor-pointer items-center space-x-[5px] text-xs transition-colors hover:text-[#242629] hover:underline focus:underline\"\n                    href=\"https://docs.hiro.so/what-is-a-wallet\"\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\"\n                  >\n                    {/* QUESTION MARK ICON */}\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"14\"\n                      height=\"14\"\n                      viewBox=\"0 0 16 16\"\n                      fill=\"none\"\n                    >\n                      <path\n                        stroke=\"#74777D\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"1.2\"\n                        d=\"M8.006 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z\"\n                      />\n                      <path\n                        stroke=\"#74777D\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"1.2\"\n                        d=\"M5.97 5.9a2.1 2.1 0 0 1 4.08.7c0 1.4-2.1 2.1-2.1 2.1M8.006 11.5h.01\"\n                      />\n                    </svg>\n                    <p>\n                      What is a wallet?&thinsp;<span class=\"align-text-bottom text-[9px]\">â†—</span>\n                    </p>\n                  </a>\n                </div>\n              )}\n              <ul class=\"space-y-3\">\n                {notInstalledProviders.map((provider: WbipProvider, i: number) => (\n                  <li\n                    class=\"flex items-center gap-3 rounded-[10px] border border-[#EFEFF2] p-[14px]\"\n                    key={provider?.id ?? i}\n                  >\n                    <div class=\"aspect-square basis-9 overflow-hidden\">\n                      <img src={provider.icon} class=\"h-full w-full rounded-[10px] bg-gray-700\" />\n                    </div>\n                    <div class=\"flex-1\">\n                      <div class=\"text-sm font-medium text-[#242629]\">{provider.name}</div>\n                      {provider.webUrl && (\n                        <a href={provider.webUrl} class=\"text-sm\" rel=\"noopener noreferrer\">\n                          {new URL(provider.webUrl).hostname}\n                        </a>\n                      )}\n                    </div>\n                    {this.getInstallUrl(provider, browser, mobile) && (\n                      <a\n                        class=\"rounded-[10px] border border-[#EFEFF2] px-4 py-2 text-sm font-medium shadow-[0_1px_2px_0_#0000000A] outline-[#FFBD7A] transition-colors hover:text-[#242629] hover:shadow-[0_1px_2px_0_#00000010] focus:outline focus:outline-[3px] active:scale-95\"\n                        href={this.getInstallUrl(provider, browser, mobile)}\n                        rel=\"noopener noreferrer\"\n                        target=\"_blank\"\n                      >\n                        {provider.id === 'AsignaProvider' ? 'Open' : 'Install'} &rarr;\n                      </a>\n                    )}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}